function cov_ydm9uh3rm(){var path="/home/Saiteja.k/Desktop/Projects/Medappoint/server/middleware.js";var hash="607f1c3b87148bac0fec0d9cca267bcb330713e5";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/Saiteja.k/Desktop/Projects/Medappoint/server/middleware.js",statementMap:{"0":{start:{line:1,column:12},end:{line:1,column:35}},"1":{start:{line:3,column:0},end:{line:17,column:2}},"2":{start:{line:4,column:2},end:{line:16,column:3}},"3":{start:{line:5,column:16},end:{line:5,column:37}},"4":{start:{line:6,column:4},end:{line:12,column:5}},"5":{start:{line:7,column:6},end:{line:7,column:41}},"6":{start:{line:9,column:20},end:{line:9,column:50}},"7":{start:{line:10,column:6},end:{line:10,column:30}},"8":{start:{line:11,column:6},end:{line:11,column:13}},"9":{start:{line:14,column:4},end:{line:14,column:61}},"10":{start:{line:15,column:4},end:{line:15,column:61}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:3,column:17},end:{line:3,column:18}},loc:{start:{line:3,column:42},end:{line:17,column:1}},line:3}},branchMap:{"0":{loc:{start:{line:6,column:4},end:{line:12,column:5}},type:"if",locations:[{start:{line:6,column:4},end:{line:12,column:5}},{start:{line:6,column:4},end:{line:12,column:5}}],line:6}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},f:{"0":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"607f1c3b87148bac0fec0d9cca267bcb330713e5"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_ydm9uh3rm=function(){return actualCoverage;};}return actualCoverage;}cov_ydm9uh3rm();const jwt=(cov_ydm9uh3rm().s[0]++,require("jsonwebtoken"));cov_ydm9uh3rm().s[1]++;module.exports=function(req,res,next){cov_ydm9uh3rm().f[0]++;cov_ydm9uh3rm().s[2]++;try{let token=(cov_ydm9uh3rm().s[3]++,req.header('x-token'));cov_ydm9uh3rm().s[4]++;if(!token){cov_ydm9uh3rm().b[0][0]++;cov_ydm9uh3rm().s[5]++;return res.json("Token not found");}else{cov_ydm9uh3rm().b[0][1]++;let decoded=(cov_ydm9uh3rm().s[6]++,jwt.verify(token,'1234-5678'));cov_ydm9uh3rm().s[7]++;req.user=decoded.user;cov_ydm9uh3rm().s[8]++;next();}}catch(err){cov_ydm9uh3rm().s[9]++;console.error("Token verification failed:",err.message);cov_ydm9uh3rm().s[10]++;return res.status(401).json({message:"Unauthorized"});}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfeWRtOXVoM3JtIiwiYWN0dWFsQ292ZXJhZ2UiLCJqd3QiLCJzIiwicmVxdWlyZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJyZXEiLCJyZXMiLCJuZXh0IiwiZiIsInRva2VuIiwiaGVhZGVyIiwiYiIsImpzb24iLCJkZWNvZGVkIiwidmVyaWZ5IiwidXNlciIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsIm1lc3NhZ2UiLCJzdGF0dXMiXSwic291cmNlcyI6WyJtaWRkbGV3YXJlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGp3dCA9IHJlcXVpcmUoXCJqc29ud2VidG9rZW5cIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdHJ5IHtcbiAgICBsZXQgdG9rZW4gPSByZXEuaGVhZGVyKCd4LXRva2VuJyk7XG4gICAgaWYgKCF0b2tlbikge1xuICAgICAgcmV0dXJuIHJlcy5qc29uKFwiVG9rZW4gbm90IGZvdW5kXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgZGVjb2RlZCA9IGp3dC52ZXJpZnkodG9rZW4sICcxMjM0LTU2NzgnKTtcbiAgICAgIHJlcS51c2VyID0gZGVjb2RlZC51c2VyO1xuICAgICAgbmV4dCgpO1xuICAgIH1cbiAgfSBjYXRjaChlcnIpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiVG9rZW4gdmVyaWZpY2F0aW9uIGZhaWxlZDpcIiwgZXJyLm1lc3NhZ2UpO1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6IFwiVW5hdXRob3JpemVkXCIgfSk7XG4gIH1cbn07XG4iXSwibWFwcGluZ3MiOiJ3bERBZVk7QUFBQUEsYUFBQSxTQUFBQSxDQUFBLFNBQUFDLGNBQUEsV0FBQUEsY0FBQSxFQUFBRCxhQUFBLEdBZlosS0FBTSxDQUFBRSxHQUFHLEVBQUFGLGFBQUEsR0FBQUcsQ0FBQSxNQUFHQyxPQUFPLENBQUMsY0FBYyxDQUFDLEVBQUNKLGFBQUEsR0FBQUcsQ0FBQSxNQUVwQ0UsTUFBTSxDQUFDQyxPQUFPLENBQUcsU0FBU0MsR0FBRyxDQUFFQyxHQUFHLENBQUVDLElBQUksQ0FBRSxDQUFBVCxhQUFBLEdBQUFVLENBQUEsTUFBQVYsYUFBQSxHQUFBRyxDQUFBLE1BQ3hDLEdBQUksQ0FDRixHQUFJLENBQUFRLEtBQUssRUFBQVgsYUFBQSxHQUFBRyxDQUFBLE1BQUdJLEdBQUcsQ0FBQ0ssTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFDWixhQUFBLEdBQUFHLENBQUEsTUFDbEMsR0FBSSxDQUFDUSxLQUFLLENBQUUsQ0FBQVgsYUFBQSxHQUFBYSxDQUFBLFNBQUFiLGFBQUEsR0FBQUcsQ0FBQSxNQUNWLE1BQU8sQ0FBQUssR0FBRyxDQUFDTSxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FDcEMsQ0FBQyxJQUFNLENBQUFkLGFBQUEsR0FBQWEsQ0FBQSxTQUNMLEdBQUksQ0FBQUUsT0FBTyxFQUFBZixhQUFBLEdBQUFHLENBQUEsTUFBR0QsR0FBRyxDQUFDYyxNQUFNLENBQUNMLEtBQUssQ0FBRSxXQUFXLENBQUMsRUFBQ1gsYUFBQSxHQUFBRyxDQUFBLE1BQzdDSSxHQUFHLENBQUNVLElBQUksQ0FBR0YsT0FBTyxDQUFDRSxJQUFJLENBQUNqQixhQUFBLEdBQUFHLENBQUEsTUFDeEJNLElBQUksQ0FBQyxDQUFDLENBQ1IsQ0FDRixDQUFFLE1BQU1TLEdBQUcsQ0FBRSxDQUFBbEIsYUFBQSxHQUFBRyxDQUFBLE1BQ1hnQixPQUFPLENBQUNDLEtBQUssQ0FBQyw0QkFBNEIsQ0FBRUYsR0FBRyxDQUFDRyxPQUFPLENBQUMsQ0FBQ3JCLGFBQUEsR0FBQUcsQ0FBQSxPQUN6RCxNQUFPLENBQUFLLEdBQUcsQ0FBQ2MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDUixJQUFJLENBQUMsQ0FBRU8sT0FBTyxDQUFFLGNBQWUsQ0FBQyxDQUFDLENBQzFELENBQ0YsQ0FBQyJ9